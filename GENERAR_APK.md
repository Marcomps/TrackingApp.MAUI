# üì¶ GENERAR APK - Tracking App

## C√≥mo Generar APK para Instalar en tu Celular

Esta gu√≠a te muestra c√≥mo crear un archivo APK para instalar la aplicaci√≥n directamente en tu tel√©fono Android.

---

## üéØ ¬øQu√© es un APK?

**APK** = Android Package Kit

Es el archivo instalable de Android, como un `.exe` en Windows o `.dmg` en Mac.

**Dos tipos de APK:**

1. **Debug APK** üîß
   - Para pruebas y desarrollo
   - Sin firmar oficialmente
   - M√°s r√°pido de generar
   - **üëâ Usaremos este**

2. **Release APK** üì¶
   - Para publicaci√≥n en Play Store
   - Firmado digitalmente
   - Optimizado y ofuscado
   - Para distribuci√≥n oficial

---

## üöÄ M√âTODO 1: Generar Debug APK (R√°pido)

### Paso 1: Generar el APK

Abre PowerShell y ejecuta:

```powershell
cd "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"

# Generar APK de Debug
dotnet build -t:Run -f net9.0-android -c Debug
```

O si prefieres net8.0:

```powershell
dotnet build -t:Run -f net8.0-android -c Debug
```

### Paso 2: Encontrar el APK

El APK se genera en:

```
TrackingApp/bin/Debug/net9.0-android/
```

Busca el archivo:
```
com.trackingapp.nutrition-Signed.apk
```

O:
```
TrackingApp-Signed.apk
```

### Paso 3: Copiar el APK

Copia el APK a un lugar f√°cil:

```powershell
# Copiar a Escritorio
Copy-Item "bin\Debug\net9.0-android\*-Signed.apk" "$env:USERPROFILE\Desktop\TrackingApp.apk"
```

### Paso 4: Transferir a tu Celular

**Opci√≥n A: USB**
1. Conecta tu celular con cable USB
2. Copia `TrackingApp.apk` a la carpeta de Descargas del celular

**Opci√≥n B: Email**
1. Env√≠ate el APK por email
2. Abre el email en tu celular
3. Descarga el APK

**Opci√≥n C: Google Drive / Dropbox**
1. Sube el APK a Drive/Dropbox
2. Desc√°rgalo desde tu celular

**Opci√≥n D: Bluetooth**
1. Env√≠a el APK por Bluetooth a tu celular

### Paso 5: Instalar en tu Celular

1. **Habilitar instalaci√≥n de fuentes desconocidas:**
   - Ajustes ‚Üí Seguridad
   - Activar "Or√≠genes desconocidos" o "Instalar apps desconocidas"

2. **Instalar el APK:**
   - Abre el archivo APK desde Descargas
   - Toca "Instalar"
   - Espera unos segundos
   - Toca "Abrir"

‚úÖ **¬°Listo! La app est√° instalada**

---

## üèÜ M√âTODO 2: Generar Release APK (Optimizado)

Para una versi√≥n m√°s optimizada (recomendado para uso real):

### Paso 1: Generar Release APK

```powershell
cd "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"

# Generar APK Release
dotnet publish -f net9.0-android -c Release
```

### Paso 2: Encontrar el APK

El APK se genera en:

```
TrackingApp/bin/Release/net9.0-android/publish/
```

Nombre del archivo:
```
com.trackingapp.nutrition-Signed.apk
```

### Paso 3: Copiar a Escritorio

```powershell
Copy-Item "bin\Release\net9.0-android\publish\*-Signed.apk" "$env:USERPROFILE\Desktop\TrackingApp-Release.apk"
```

### Paso 4: Instalar (mismo proceso que Debug)

---

## üì± M√âTODO 3: Generar e Instalar Directamente (Con dispositivo conectado)

Si tienes tu celular conectado por USB:

### Paso 1: Habilitar Depuraci√≥n USB

En tu celular:
1. Ajustes ‚Üí Acerca del tel√©fono
2. Toca 7 veces en "N√∫mero de compilaci√≥n"
3. Vuelve ‚Üí Opciones de desarrollador
4. Activa "Depuraci√≥n USB"

### Paso 2: Conectar USB

1. Conecta el cable USB
2. Acepta la autorizaci√≥n en el celular
3. Verifica la conexi√≥n:

```powershell
# Si tienes adb instalado:
adb devices
```

Deber√≠as ver tu dispositivo listado.

### Paso 3: Compilar e Instalar Directamente

```powershell
cd "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"

# Esto compilar√° e instalar√° directamente
dotnet build -t:Run -f net9.0-android
```

‚úÖ **La app se instalar√° autom√°ticamente en tu celular**

---

## üîç Verificar la Generaci√≥n del APK

### Ver qu√© se gener√≥:

```powershell
# Listar APKs en Debug
Get-ChildItem -Path "bin\Debug\net9.0-android\" -Filter "*.apk" -Recurse

# Listar APKs en Release
Get-ChildItem -Path "bin\Release\net9.0-android\" -Filter "*.apk" -Recurse
```

### Ver detalles del APK:

```powershell
# Ver tama√±o del archivo
Get-Item "bin\Debug\net9.0-android\*-Signed.apk" | Select-Object Name, Length, LastWriteTime
```

---

## üìä Informaci√≥n del APK Generado

### Tama√±o Aproximado:
- **Debug APK:** ~50-80 MB
- **Release APK:** ~30-50 MB (optimizado)

### Versi√≥n:
- **1.0** (configurado en `TrackingApp.csproj`)

### Identificador:
- **com.trackingapp.nutrition**

### Nombre:
- **Tracking App**

### Permisos:
- Internet (si fuera necesario)
- Almacenamiento (para SQLite)

---

## üé® Logo Incluido

El APK incluye:
‚úÖ Logo personalizado verde
‚úÖ Splash screen con "Tracking App"
‚úÖ Icono en el launcher
‚úÖ Iconos en todas las resoluciones

---

## ‚öôÔ∏è Comandos Completos (Script Automatizado)

Guarda esto como `generar-apk.ps1`:

```powershell
# Script para generar APK

Write-Host "üöÄ Generando APK de Tracking App..." -ForegroundColor Green

# Ir al directorio del proyecto
Set-Location "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"

# Limpiar compilaci√≥n anterior
Write-Host "`nüßπ Limpiando compilaci√≥n anterior..." -ForegroundColor Yellow
dotnet clean

# Compilar y generar APK
Write-Host "`nüî® Compilando aplicaci√≥n..." -ForegroundColor Yellow
dotnet publish -f net9.0-android -c Release

# Buscar el APK generado
$apkPath = Get-ChildItem -Path "bin\Release\net9.0-android\publish\" -Filter "*-Signed.apk" | Select-Object -First 1

if ($apkPath) {
    # Copiar a Escritorio
    $destinoAPK = "$env:USERPROFILE\Desktop\TrackingApp.apk"
    Copy-Item $apkPath.FullName $destinoAPK -Force
    
    Write-Host "`n‚úÖ APK generado exitosamente!" -ForegroundColor Green
    Write-Host "üìç Ubicaci√≥n: $destinoAPK" -ForegroundColor Cyan
    Write-Host "üì¶ Tama√±o: $([math]::Round($apkPath.Length/1MB, 2)) MB" -ForegroundColor Cyan
    
    # Abrir carpeta del Escritorio
    Start-Process "explorer.exe" "$env:USERPROFILE\Desktop"
    
    Write-Host "`nüì± Pr√≥ximos pasos:" -ForegroundColor Yellow
    Write-Host "1. Transfiere TrackingApp.apk a tu celular" -ForegroundColor White
    Write-Host "2. Habilita 'Or√≠genes desconocidos' en Ajustes" -ForegroundColor White
    Write-Host "3. Abre el APK y toca 'Instalar'" -ForegroundColor White
    Write-Host "4. ¬°Disfruta tu app! üéâ" -ForegroundColor White
    
} else {
    Write-Host "`n‚ùå Error: No se encontr√≥ el APK generado" -ForegroundColor Red
    Write-Host "Revisa los errores de compilaci√≥n arriba" -ForegroundColor Red
}
```

### Ejecutar el script:

```powershell
# Dar permisos (solo la primera vez)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# Ejecutar
.\generar-apk.ps1
```

---

## üêõ Soluci√≥n de Problemas

### "No se encuentra el APK"

**Soluci√≥n:**
```powershell
# Ver todos los archivos generados
Get-ChildItem -Path "bin\Release\net9.0-android\" -Recurse | Where-Object { $_.Extension -eq ".apk" }
```

### "Error de compilaci√≥n"

**Soluci√≥n:**
```powershell
dotnet clean
dotnet restore
dotnet publish -f net9.0-android -c Release
```

### "APK no se instala en el celular"

**Causas comunes:**
1. ‚ùå No habilitaste "Or√≠genes desconocidos"
2. ‚ùå APK corrupto (vuelve a generarlo)
3. ‚ùå Versi√≥n Android muy antigua (requiere Android 5.0+)

**Soluci√≥n:**
- Verifica configuraci√≥n de seguridad
- Genera APK nuevamente
- Revisa versi√≥n de Android en tu celular

### "App se cierra al abrir"

**Soluci√≥n:**
```powershell
# Genera APK de Debug para ver errores
dotnet build -f net9.0-android -c Debug

# Conecta el celular por USB
# Ejecuta para ver logs:
adb logcat | Select-String "TrackingApp"
```

---

## üìã Checklist de Generaci√≥n

Antes de generar el APK, verifica:

- [ ] ‚úÖ Proyecto compila sin errores
- [ ] ‚úÖ Logo personalizado est√° incluido
- [ ] ‚úÖ Persistencia SQLite implementada
- [ ] ‚úÖ Todas las funcionalidades probadas
- [ ] ‚úÖ Versi√≥n actualizada en `.csproj`

---

## üéØ Resumen de Comandos

### Para probar r√°pido (Debug):
```powershell
cd "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"
dotnet build -f net9.0-android -c Debug
Copy-Item "bin\Debug\net9.0-android\*-Signed.apk" "$env:USERPROFILE\Desktop\TrackingApp-Debug.apk"
```

### Para uso real (Release):
```powershell
cd "c:\Users\PC\Desktop\Traking food\TrackingApp.MAUI\TrackingApp"
dotnet publish -f net9.0-android -c Release
Copy-Item "bin\Release\net9.0-android\publish\*-Signed.apk" "$env:USERPROFILE\Desktop\TrackingApp.apk"
```

### Abrir carpeta del APK:
```powershell
Start-Process "explorer.exe" "$env:USERPROFILE\Desktop"
```

---

## üì± Instalaci√≥n en el Celular (Paso a Paso)

### 1. En tu celular Android:

**Habilitar instalaci√≥n:**
```
Ajustes 
  ‚Üí Seguridad y privacidad
    ‚Üí M√°s ajustes de seguridad
      ‚Üí Instalar apps desconocidas
        ‚Üí Chrome/Archivos
          ‚Üí Permitir de esta fuente ‚úÖ
```

### 2. Transferir el APK:

**Opci√≥n m√°s f√°cil - USB:**
1. Conecta el cable USB al PC y al celular
2. En el celular, selecciona "Transferir archivos"
3. En el PC, abre "Este equipo" ‚Üí tu celular
4. Copia `TrackingApp.apk` a la carpeta "Download"

### 3. Instalar:

1. Abre la app "Archivos" o "Mis archivos" en tu celular
2. Ve a "Descargas" o "Downloads"
3. Toca `TrackingApp.apk`
4. Toca "Instalar"
5. Espera 5-10 segundos
6. Toca "Abrir"

### 4. Verificar:

‚úÖ Ver√°s el splash screen verde con tu logo
‚úÖ La app se abre correctamente
‚úÖ Puedes registrar alimentos y medicamentos
‚úÖ Los datos persisten al cerrar y reabrir

---

## üéâ Pr√≥ximos Pasos Despu√©s de Instalar

1. **Prueba todas las funciones:**
   - Registra alimentos
   - Registra medicamentos
   - Confirma dosis
   - Edita horarios
   - Cambia tipo de usuario

2. **Verifica persistencia:**
   - Cierra la app completamente
   - √Åbrela de nuevo
   - Los datos deben seguir ah√≠ ‚úÖ

3. **Prueba en condiciones reales:**
   - Usa la app durante varios d√≠as
   - Registra datos reales
   - Verifica rendimiento

4. **Comparte feedback:**
   - ¬øFunciona todo bien?
   - ¬øEncuentras bugs?
   - ¬øFalta alguna funci√≥n?

---

## üìö Documentaci√≥n Relacionada

- [GUIA_TESTING.md](GUIA_TESTING.md) - C√≥mo probar la app
- [PERSISTENCIA_SQLITE.md](PERSISTENCIA_SQLITE.md) - Base de datos
- [PUBLICAR_PLAY_STORE.md](PUBLICAR_PLAY_STORE.md) - Para publicar oficialmente

---

## ‚úÖ ¬°Todo Listo!

Ahora tienes:
- ‚úÖ APK listo para instalar
- ‚úÖ Instrucciones completas
- ‚úÖ Soluci√≥n de problemas
- ‚úÖ Logo personalizado incluido
- ‚úÖ Base de datos SQLite funcionando

**¬°Disfruta tu app de tracking en tu celular!** üéâüì±

---

**Versi√≥n:** 1.0.0  
**Fecha:** Octubre 2025  
**Plataforma:** Android 5.0+ (API 21+)  
**Tama√±o:** ~30-80 MB (seg√∫n configuraci√≥n)
